#include <opencv2/core.hpp>
#include <opencv2/imgproc.hpp>
#include <opencv2/imgcodecs.hpp>
#include <opencv2/opencv.hpp>
#include <opencv2/videoio.hpp>
#include <opencv2/imgproc.hpp>
#include <opencv2/highgui.hpp>
#include <omp.h>
#include <bits/stdc++.h>
#include <chrono>
#include <thread>
#include <barrier>

#define BLUR_SIZE 30
#define TILE_DIM 32
#define FILTER_RADIUS 10
//#define DISTANCE 100
#define NUM_FRAMES 1

__constant__ double Gaussian[21][21] = {
    {0.00221 ,0.00222 ,0.00223 ,0.00223 ,0.00224 ,0.00224 ,0.00225 ,0.00225 ,0.00225 ,0.00225 ,0.00226 ,0.00225 ,0.00225 ,0.00225 ,0.00225 ,0.00224 ,0.00224 ,0.00223 ,0.00223 ,0.00222 ,0.00221 },
{0.00222 ,0.00223 ,0.00224 ,0.00224 ,0.00225 ,0.00225 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00225 ,0.00225 ,0.00224 ,0.00224 ,0.00223 ,0.00222 },
{0.00223 ,0.00224 ,0.00224 ,0.00225 ,0.00226 ,0.00226 ,0.00226 ,0.00227 ,0.00227 ,0.00227 ,0.00227 ,0.00227 ,0.00227 ,0.00227 ,0.00226 ,0.00226 ,0.00226 ,0.00225 ,0.00224 ,0.00224 ,0.00223 },
{0.00223 ,0.00224 ,0.00225 ,0.00226 ,0.00226 ,0.00227 ,0.00227 ,0.00227 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00227 ,0.00227 ,0.00227 ,0.00226 ,0.00226 ,0.00225 ,0.00224 ,0.00223 },
{0.00224 ,0.00225 ,0.00226 ,0.00226 ,0.00227 ,0.00227 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00227 ,0.00227 ,0.00226 ,0.00226 ,0.00225 ,0.00224 },
{0.00224 ,0.00225 ,0.00226 ,0.00227 ,0.00227 ,0.00228 ,0.00228 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00228 ,0.00228 ,0.00227 ,0.00227 ,0.00226 ,0.00225 ,0.00224 },
{0.00225 ,0.00226 ,0.00226 ,0.00227 ,0.00228 ,0.00228 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00228 ,0.00228 ,0.00227 ,0.00226 ,0.00226 ,0.00225 },
{0.00225 ,0.00226 ,0.00227 ,0.00227 ,0.00228 ,0.00229 ,0.00229 ,0.00229 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00229 ,0.00229 ,0.00229 ,0.00228 ,0.00227 ,0.00227 ,0.00226 ,0.00225 },
{0.00225 ,0.00226 ,0.00227 ,0.00228 ,0.00228 ,0.00229 ,0.00229 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00229 ,0.00229 ,0.00228 ,0.00228 ,0.00227 ,0.00226 ,0.00225 },
{0.00225 ,0.00226 ,0.00227 ,0.00228 ,0.00228 ,0.00229 ,0.00229 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00229 ,0.00229 ,0.00228 ,0.00228 ,0.00227 ,0.00226 ,0.00225 },
{0.00226 ,0.00226 ,0.00227 ,0.00228 ,0.00228 ,0.00229 ,0.00229 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00229 ,0.00229 ,0.00228 ,0.00228 ,0.00227 ,0.00226 ,0.00226 },
{0.00225 ,0.00226 ,0.00227 ,0.00228 ,0.00228 ,0.00229 ,0.00229 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00229 ,0.00229 ,0.00228 ,0.00228 ,0.00227 ,0.00226 ,0.00225 },
{0.00225 ,0.00226 ,0.00227 ,0.00228 ,0.00228 ,0.00229 ,0.00229 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00229 ,0.00229 ,0.00228 ,0.00228 ,0.00227 ,0.00226 ,0.00225 },
{0.00225 ,0.00226 ,0.00227 ,0.00227 ,0.00228 ,0.00229 ,0.00229 ,0.00229 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00230 ,0.00229 ,0.00229 ,0.00229 ,0.00228 ,0.00227 ,0.00227 ,0.00226 ,0.00225 },
{0.00225 ,0.00226 ,0.00226 ,0.00227 ,0.00228 ,0.00228 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00228 ,0.00228 ,0.00227 ,0.00226 ,0.00226 ,0.00225 },
{0.00224 ,0.00225 ,0.00226 ,0.00227 ,0.00227 ,0.00228 ,0.00228 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00229 ,0.00228 ,0.00228 ,0.00227 ,0.00227 ,0.00226 ,0.00225 ,0.00224 },
{0.00224 ,0.00225 ,0.00226 ,0.00226 ,0.00227 ,0.00227 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00227 ,0.00227 ,0.00226 ,0.00226 ,0.00225 ,0.00224 },
{0.00223 ,0.00224 ,0.00225 ,0.00226 ,0.00226 ,0.00227 ,0.00227 ,0.00227 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00228 ,0.00227 ,0.00227 ,0.00227 ,0.00226 ,0.00226 ,0.00225 ,0.00224 ,0.00223 },
{0.00223 ,0.00224 ,0.00224 ,0.00225 ,0.00226 ,0.00226 ,0.00226 ,0.00227 ,0.00227 ,0.00227 ,0.00227 ,0.00227 ,0.00227 ,0.00227 ,0.00226 ,0.00226 ,0.00226 ,0.00225 ,0.00224 ,0.00224 ,0.00223 },
{0.00222 ,0.00223 ,0.00224 ,0.00224 ,0.00225 ,0.00225 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00226 ,0.00225 ,0.00225 ,0.00224 ,0.00224 ,0.00223 ,0.00222 },
{0.00221 ,0.00222 ,0.00223 ,0.00223 ,0.00224 ,0.00224 ,0.00225 ,0.00225 ,0.00225 ,0.00225 ,0.00226 ,0.00225 ,0.00225 ,0.00225 ,0.00225 ,0.00224 ,0.00224 ,0.00223 ,0.00223 ,0.00222 ,0.00221 }

};